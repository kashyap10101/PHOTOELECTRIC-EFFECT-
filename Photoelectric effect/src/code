<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Photoelectric Effect Calculator</title>

<style>
body {
  font-family: Arial, sans-serif;
  padding: 20px;
  background: #e8f9ff;
}

.card {
  background: white;
  padding: 25px;
  border-radius: 16px;
  box-shadow: 0 4px 14px rgba(0,0,0,0.15);
  max-width: 600px;
  margin: auto;
}

h1 {
  text-align: center;
  color: #0088a1;
  margin-bottom: 20px;
}

label {
  font-weight: bold;
}

input, select {
  width: 100%;
  padding: 12px;
  margin-top: 8px;
  margin-bottom: 14px;
  border-radius: 10px;
  border: 1px solid #8ad1dd;
  font-size: 1rem;
}

.result-box {
  padding: 18px;
  background: #f4feff;
  border-left: 5px solid #00a1b4;
  margin-top: 20px;
  border-radius: 10px;
}

.result-box p {
  font-size: 1.1rem;
  margin: 6px 0;
}
</style>
</head>

<body>

<div class="card">
  <h1>Photoelectric Effect Calculator</h1>

  <!-- Input Type -->
  <label>Input Type:</label>
  <select id="inputType" onchange="updateFWUnits(); calculateAll();">
    <option value="freq">Frequency</option>
    <option value="wave">Wavelength</option>
  </select>

  <!-- Frequency / Wavelength -->
  <label>Enter Value:</label>
  <input type="number" id="fwValue" placeholder="Enter frequency or wavelength" oninput="calculateAll()">

  <select id="fwUnit" onchange="calculateAll()"></select>

  <!-- Work Function -->
  <label>Work Function (φ):</label>
  <input type="number" id="phi" placeholder="Enter work function" oninput="calculateAll()">

  <select id="phi_unit" onchange="calculateAll()">
    <option value="J">J</option>
    <option value="kJ">kJ</option>
    <option value="eV">eV</option>
  </select>

  <!-- Results -->
  <div class="result-box" id="results">
    Enter values to calculate.
  </div>

</div>

<script>
const h = 6.626e-34;
const e = 1.602e-19;
const c = 3e8;

function updateFWUnits() {
  const type = document.getElementById("inputType").value;
  const unit = document.getElementById("fwUnit");

  if (type === "freq") {
    unit.innerHTML = `
      <option value="Hz">Hz</option>
      <option value="kHz">kHz</option>
      <option value="MHz">MHz</option>
      <option value="GHz">GHz</option>
    `;
  } else {
    unit.innerHTML = `
      <option value="m">m</option>
      <option value="nm">nm</option>
      <option value="pm">pm</option>
    `;
  }
}
updateFWUnits();

function convertEnergy(value, unit) {
  if (unit === "kJ") return value * 1000;
  if (unit === "eV") return value * e;
  return value;
}

function convertInput() {
  let type = document.getElementById("inputType").value;
  let value = parseFloat(document.getElementById("fwValue").value);
  let unit = document.getElementById("fwUnit").value;

  if (isNaN(value)) return null;

  if (type === "freq") {
    if (unit === "kHz") value *= 1e3;
    if (unit === "MHz") value *= 1e6;
    if (unit === "GHz") value *= 1e9;
    return value;
  }

  if (type === "wave") {
    if (unit === "nm") value *= 1e-9;
    if (unit === "pm") value *= 1e-12;
    return c / value;
  }
}

function calculateAll() {
  const results = document.getElementById("results");

  const f = convertInput();
  let phi = parseFloat(document.getElementById("phi").value);
  let phi_unit = document.getElementById("phi_unit").value;

  if (f == null || isNaN(phi)) {
    results.innerHTML = "Enter values to calculate.";
    return;
  }

  phi = convertEnergy(phi, phi_unit);

  let photonEnergy = h * f;
  let kineticEnergy = photonEnergy - phi;
  let thresholdFreq = phi / h;
  let stoppingPotential = kineticEnergy / e;

  results.innerHTML = `
    <p><strong>Photon Energy:</strong> ${photonEnergy.toExponential(3)} J</p>
    <p><strong>Threshold Frequency (f₀):</strong> ${thresholdFreq.toExponential(3)} Hz</p>
    <p><strong>Kinetic Energy (K.E):</strong> ${kineticEnergy.toExponential(3)} J</p>
    <p><strong>Stopping Potential (V₀):</strong> ${stoppingPotential.toFixed(2)} V</p>
  `;
}
</script>

</body>
</html>